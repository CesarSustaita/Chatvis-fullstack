<!DOCTYPE html>
<html lang="es-MX">

<head>
    <!-- Required meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - Universidad</title>
    <!-- CSS de Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- CDN de FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- ReCAPTCHA v3 -->
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <!-- Default custom style -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/default.css') }}">
</head>

<body>

    <!-- Navbar -->
    {% include "navbar.html" %}

    <!-- Contenido -->
    <div class="container">
        <!-- Encabezado con botones y título -->
        <div class="row d-flex flex-row align-items-center pt-5 pb-3 pb-md-4 justify-content-between">
            <!-- Regresar -->
            <div class="col-2 col-md-2 col-lg-3 d-flex flex-row align-items-center justify-content-start gap-2 ps-md-0">
                <a href="{{ url_for('register_state') }}" id="regresar-button" role="button"
                    aria-label="Regresar al paso anterior" class="btn btn-sm w-auto chevron" tabindex="5">
                    <i class="fa-solid fa-chevron-left"></i> <span class="d-none d-lg-inline-block">Regresar</span>
                </a>
            </div>
            <!-- Título -->
            <div
                class="col-8 col-md-8 col-lg-6 col-xl-5 col-xxl-4 d-flex flex-row align-items-center justify-content-center justify-content-md-start">
                <h2 class="text-center m-0">Registro de cuenta</h2>
            </div>
            <!-- Siguiente -->
            <div class="col-2 col-lg-3 d-flex flex-row align-items-center justify-content-end gap-2 pe-md-0">
                <!-- Vacío -->
            </div>
        </div>
    
        <!-- Progress bar -->
        <div class="row justify-content-center py-3 py-md-3">
            <div class="col-12 col-md-8 col-lg-6 col-xl-5 col-xxl-4 d-flex d-row align-items-center justify-content-center">
                <div class="avance d-flex flex-row justify-content-between">
                    <div class="recuadro recuadro-futuro"></div>
                    <div class="recuadro recuadro-futuro"></div>
                    <div class="recuadro recuadro-futuro"></div>
                    <div class="recuadro recuadro-coloreado"></div>
                </div>
            </div>
        </div>
    
        <!-- Formulario -->
        <div class="row justify-content-center py-4">
            <div class="col-12 col-md-8 col-lg-6 col-xl-5 col-xxl-4 d-flex flex-column ">
                <form id="form-register-uni" action="{{ url_for('register_u') }}" method="post" 
                class="needs-validation d-flex flex-column" 
                novalidate>
                    <div class="mb-3">
                        <label for="universidad" class="form-label">Universidad</label>
                        <input type="text" class="form-control" aria-label="Username" aria-describedby="basic-addon1" name="universidad"
                            id="universidad" autocomplete="off" tabindex="1" value="{{datos['universidad']|default('')}}" />
                        <div class="invalid-feedback">
                            Introduce una universidad válida.
                        </div>
                    </div>
                    <div class="mb-3 py-4 form-check">
                        <input class="form-check-input" type="checkbox" value="accepted" name="terminos" id="terminos-checkbox" tabindex="2" />
                        <label class="form-check-label" for="terminos-checkbox">
                            He leído y estoy de acuerdo con los <a href="" class="link-primary" data-bs-toggle="modal"
                                data-bs-target="#modalToS" style="font-size: inherit;">Términos y condiciones de uso</a>.
                        </label>
                
                        <div class="invalid-feedback">
                            Debes aceptar los Términos y condiciones de uso.
                        </div>
                    </div>
                
                    <button type="submit" id="button-register-uni" 
                        class="btn btn-dark mt-3 align-self-center w-100 g-recaptcha" tabindex="3"
                        data-sitekey="{{ site_key }}" data-callback='onLoginFormSubmit' data-action='submit'>
                        Crear mi cuenta
                    </button>
                </form>
    
                <!-- Link hacia iniciar sesión -->
                <div class="cuenta my-5 align-self-center ">
                    ¿Ya tienes una cuenta?
                    <a href="{{url_for('login')}}" class="link-primary" tabindex="4" style="font-size: inherit;">
                        Inicia sesión.
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ToS -->
    <div class="modal fade" id="modalToS" tabindex="-1" aria-labelledby="modalToSLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header text">
            <h2 class="modal-title" id="modalToSLabel">Términos y condiciones de uso</h2>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text">
                <div>
                    <div class="section">
                        <h4>Introducción</h4>
                        <p>Bienvenido a Semantic ChatVis. Estos Términos y condiciones de uso (los "Términos") regulan el uso de nuestro sistema web para analizar conversaciones de WhatsApp a partir de archivos .txt. Al acceder a nuestro sistema, usted acepta estos Términos.</p>
                    </div>

                    <div class="section">
                        <h4>Definiciones</h4>
                        <p><strong>ChatVis:</strong> Semantic ChatVis, sistema web para el análisis de conversaciones de WhatsApp a partir de archivos de texto.</p>
                        <p><strong>Usuario:</strong> Persona que se registra y utiliza el sistema ChatVis.</p>
                        <p><strong>Archivo .txt:</strong> Archivo de texto sin formato que contiene conversaciones de WhatsApp exportadas sin imágenes.</p>
                    </div>

                    <div class="section">
                        <h4>Aceptación de los Términos</h4>
                        <p>Al acceder o usar ChatVis, usted acepta cumplir con estos Términos. Si no está de acuerdo con alguna parte de estos Términos, debe dejar de usar el sistema.</p>
                    </div>

                    <div class="section">
                        <h4>Registro y Cuentas</h4>
                        <p>Para usar ChatVis, se requiere iniciar sesión o registrarse como nuevo usuario. El registro es necesario para mantener un control de los usuarios que ingresan al sistema. La información proporcionada durante el registro será utilizada únicamente para fines administrativos y no será compartida con terceros.</p>
                    </div>

                    <div class="section">
                        <h4>Uso del Sistema</h4>
                        <p>Una vez registrado, el usuario puede cargar un archivo .txt para su análisis. Al cargar el archivo, ChatVis analizará las conversaciones y presentará:</p>
                        <ul>
                            <li>La conversación del archivo: El texto contenido en el archivo .txt.</li>
                            <li>Gráfica de relaciones: Representación visual de la interacción entre las personas en la conversación.</li>
                            <li>Gráfica de análisis de texto: Categoriza las conversaciones en tres tipos:</li>
                            <ul>
                                <li><strong>Código:</strong> Conversaciones que contienen código de programación.</li>
                                <li><strong>Organización:</strong> Conversaciones relacionadas con la organización de actividades.</li>
                                <li><strong>Intrascendente:</strong> Conversaciones que no encajan en las categorías anteriores.</li>
                            </ul>
                        </ul>
                    </div>

                    <div class="section">
                        <h4>Privacidad y Seguridad</h4>
                        <p>ChatVis no guarda ninguna de las conversaciones cargadas por los usuarios. Todo el análisis se realiza en tiempo real y no se almacena información personal ni de las conversaciones por motivos de seguridad y privacidad. La única finalidad del registro es para que los administradores puedan consultar cuántos usuarios utilizan el sistema.</p>
                    </div>

                    <div class="section">
                        <h4>Conducta del Usuario</h4>
                        <p>Al usar ChatVis, el usuario acepta no cargar archivos que contengan contenido ilegal, ofensivo, o que infrinja los derechos de propiedad intelectual de terceros. El usuario es responsable del contenido que carga y del uso que haga del sistema.</p>
                    </div>

                    <div class="section">
                        <h4>Limitación de Responsabilidad</h4>
                        <p>ChatVis no será responsable de cualquier daño o pérdida derivada del uso del sistema, incluidos, entre otros, errores en el análisis, pérdidas de datos, o cualquier daño consecuente. El usuario usa el sistema bajo su propio riesgo.</p>
                    </div>

                    <div class="section">
                        <h4>Modificaciones de los Términos</h4>
                        <p>ChatVis se reserva el derecho de modificar estos Términos en cualquier momento. Cualquier cambio será comunicado a los usuarios registrados a través de la plataforma. El uso continuado del sistema después de dichos cambios constituye la aceptación de los nuevos términos.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Entendido</button>
                </div>
            </div>
        </div>
        </div>
    </div>

    <!-- Dark mode script -->
    <script src="{{ url_for('static', filename='js/darkmode.js') }}"></script>

    <script>
        // ReCAPTCHA callback function to submit the form
        function onLoginFormSubmit(token) {
            document.getElementById("form-register-uni").requestSubmit();
        }
    </script>

    <!-- JavaScript de Bootstrap y sus dependencias (Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>

    <!-- Toasts block -->
    {% include "toasts.html" %}

    <!-- Validación de formulario -->
    <script src="{{ url_for('static', filename='js/register-uni-validation.js') }}"></script>
</body>

</html>